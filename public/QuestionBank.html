<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Bank</title>
    <link rel="stylesheet" href="QuestionBank.css">
    <!-- 引入 FontAwesome 图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        .back-button {
          position: absolute; /* Change to absolute positioning */
          top: 12px; /* Maintain distance from the top */
          left: 10px; /* Align to the left */
          background-color: transparent; /* Button background color */
          color: black; /* Button text color */
          border: none !important;
          border-radius: 5px;
          padding: 10px 15px;
          cursor: pointer;
        }
        .back-button i {
          margin-right: 5px;
          font-size: 1.2em; /* Adjust icon size for consistency */
        }
    </style>
</head>
<body>

    <button class="back-button" onclick="window.location.href='/admin/index.html'">
        <i class="fa-solid fa-arrow-left"></i> <!-- 添加 Home 图标 -->
        <span>Back</span>
      </button>

    <!-- 标题独立显示在白色背景上方 -->
    <header class="header">
        <h1>Question Management
            <i class="fas fa-question-circle" data-toggle="tooltip" title="Provide questions to the client and check whether the user's answer is correct." style="color: #007bff;"></i>
        </h1>
    </header>

    <div class="container">
        <div class="form-group">
            <input type="text" id="questionInput" placeholder="Enter question" required>
        </div>
        <div class="form-group">
            <input type="text" id="option1" placeholder="Option 1 (Correct Answer)" required>
            <input type="text" id="option2" placeholder="Option 2" required>
            <input type="text" id="option3" placeholder="Option 3" required>
            <input type="text" id="option4" placeholder="Option 4" required>
        </div>
        <div class="form-buttons">
            <button onclick="addQuestion()">Add Question</button>
            <button>Import File</button>
        </div>

        <div id="questionList">
            <h3>Question List</h3>
            <ul id="questions"></ul>
        </div>
    </div>

    <script>
        let questions = [];

        function addQuestion() {
            const questionText = document.getElementById("questionInput").value.trim();
            const option1 = document.getElementById("option1").value.trim();
            const option2 = document.getElementById("option2").value.trim();
            const option3 = document.getElementById("option3").value.trim();
            const option4 = document.getElementById("option4").value.trim();

            // 默认设置 Option 1 为正确答案
            const correctAnswer = option1;

            if (questionText && option1 && option2 && option3 && option4) {
                const question = {
                    question: questionText,
                    options: [option1, option2, option3, option4],
                    answer: correctAnswer
                };
                questions.push(question);

                clearForm();
                displayQuestions();
            } else {
                alert("Please fill in all fields!");
            }
        }

        function clearForm() {
            document.getElementById("questionInput").value = "";
            document.getElementById("option1").value = "";
            document.getElementById("option2").value = "";
            document.getElementById("option3").value = "";
            document.getElementById("option4").value = "";
        }

        function deleteQuestion(index) {
            questions.splice(index, 1);
            displayQuestions();
        }

        function editQuestion(index) {
            const newQuestion = prompt("Edit question:", questions[index].question);
            if (newQuestion !== null && newQuestion.trim()) {
                questions[index].question = newQuestion.trim();
                displayQuestions();
            }
        }

        function displayQuestions() {
            const questionList = document.getElementById("questions");
            questionList.innerHTML = "";
            questions.forEach((question, index) => {
                const li = document.createElement("li");
                li.innerHTML = `<strong>Q:</strong> ${question.question} 
                    <ul>
                        <li>A. ${question.options[0]}</li>
                        <li>B. ${question.options[1]}</li>
                        <li>C. ${question.options[2]}</li>
                        <li>D. ${question.options[3]}</li>
                    </ul>
                    <strong>Answer:</strong> ${question.answer} 
                    <button class="edit" onclick="editQuestion(${index})">Edit</button>
                    <button class="delete" onclick="deleteQuestion(${index})">Delete</button>`;
                questionList.appendChild(li);
            });
        }
    </script>
</body>
</html>
